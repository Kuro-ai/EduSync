{% extends 'base.html' %}
{% load crispy_forms_tags %}
{% load widget_tweaks %}

{% block content %}
<div class="max-w-md mx-auto mt-10 p-8 bg-white rounded-2xl shadow-lg">
  <h2 class="text-2xl font-semibold text-center mb-6">Sign Up</h2>

  <form method="post" class="space-y-5">
    {% csrf_token %}

    {{ form.email|as_crispy_field }}

    <div>
      <label for="{{ form.full_name.id_for_label }}" class="block text-sm font-medium text-gray-700 mb-1">
        Full Name
      </label>
      {{ form.full_name|add_class:"form-input border border-gray-300 w-full p-2 rounded-md focus:ring-blue-500 focus:border-blue-500" }}
      {% if form.full_name.errors %}
        <p class="text-red-500 text-sm mt-1">{{ form.full_name.errors.0 }}</p>
      {% endif %}
    </div>

    <div>
      {{ form.password1.label_tag }}
      {{ form.password1|add_class:"form-input w-full p-2 border border-gray-300 rounded focus:ring-blue-500 focus:border-blue-500" }}
      {% if form.password1.errors %}
        <p class="text-red-500 text-sm mt-1">{{ form.password1.errors.0 }}</p>
      {% endif %}

      <div class="mt-2 p-3 bg-blue-50 text-blue-700 text-sm rounded-md border border-blue-200">
        <p class="mb-1">Password must meet the following:</p>
        <ul class="list-disc list-inside">
          <li>At least 8 characters long</li>
          <li>Not entirely numeric</li>
          <li>Not too similar to your personal info</li>
          <li>Not a commonly used password</li>
        </ul>
      </div>
    </div>

    <div>
      {{ form.password2.label_tag }}
      {{ form.password2|add_class:"form-input w-full p-2 border border-gray-300 rounded focus:ring-blue-500 focus:border-blue-500" }}
      {% if form.password2.errors %}
        <p class="text-red-500 text-sm mt-1">{{ form.password2.errors.0 }}</p>
      {% endif %}
      <div class="mt-2 p-3 bg-blue-50 text-blue-700 text-sm rounded-md border border-blue-200">
        <p class="mb-1">Password must meet the following:</p>
        <ul class="list-disc list-inside">
          <li>Enter the same password again, for verification.</li>
        </ul>
      </div>
    </div>

    <button type="submit" class="w-full py-2 px-4 bg-blue-600 text-white font-semibold rounded-lg hover:bg-blue-700 transition">
      Create Account
    </button>
  </form>

  <p class="mt-6 text-center text-sm text-gray-600">
    Already have an account?
    <a href="{% url 'login' %}" class="text-blue-600 hover:underline">Login</a>
  </p>
</div>
{% endblock %}
